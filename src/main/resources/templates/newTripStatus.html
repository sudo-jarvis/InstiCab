<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
  <head th:replace="components/head :: head"></head>
  <body>
    <nav class="navbar navbar-expand-lg bg-dark">
      <div class="container-fluid">
        <a class="navbar-item text-light" href="#">InstiCab</a>
        <button class="navbar-dark navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a th:href="@{/}" class="nav-link active text-light" aria-current="page">Home</a>
            </li>
            <li class="nav-item text-light">
              <a th:href="@{/about/}" class="nav-link text-light">About</a>
            </li>
            <li class="nav-item">
              <a th:href="@{/contact}" class="nav-link text-light">Contact</a>
            </li>
          </ul>
          <ul class="navbar-nav me-0 mb-2 mb-lg-0">
            <li class="nav-item ">
              <a th:href="@{/logout/}" class="nav-link active text-light" aria-current="page">
                <button type="button" class="btn btn-light">Logout</button>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <br />
    <div class="page-header align-items-start min-vh-100 mt-7" loading="lazy">
      <div class="container my-auto">
        <div class="row g-7">
          <div class="col-lg-12 col-md-12 col-12 mx-auto">
            <div class="card z-index-0 fadeIn3 fadeInBottom">
              <div class="card-body bg-gradient-secondary text-center">
                <h1>All Trips</h1>
                <div th:if="${passengerTripList eq null or #lists.size(passengerTripList) eq 0}">
                  No Trips found! <br />
                </div>
                <table
                        class="table table-dark table-striped"
                        th:if="${passengerTripList ne null and #lists.size(passengerTripList) ne 0}"
                >
                  <thead class="thead-dark">
                  <tr>
                    <th scope="col">tripId</th>
                    <th scope="col">startLatitude</th>
                    <th scope="col">startLongitude</th>
                    <th scope="col">endLatitude</th>
                    <th scope="col">endLongitude</th>
                    <th scope="col">status</th>
                  </tr>
                  </thead>
                  <tbody class="text-white">
                  <div th:each="passengerTrip:${passengerTripList}">
                    <tr>
                      <td th:text="${passengerTrip.tripId}"></td>
                      <td th:text="${passengerTrip.startLatitude}"></td>
                      <td th:text="${passengerTrip.startLongitude}"></td>
                      <td th:text="${passengerTrip.endLatitude}"></td>
                      <td th:text="${passengerTrip.endLongitude}"></td>
                      <td th:if="${passengerTrip.status eq 0}" th:text="Pending"></td>
                      <td th:if="${passengerTrip.status eq 1}" th:text="Running"></td>
                      <td th:if="${passengerTrip.status eq 2}" th:text="Rejected"></td>
                      <td th:if="${passengerTrip.status eq 3}" th:text="Completed"></td>
                      <td>
                        <a class="btn btn-warning" data-bs-toggle="collapse"
                           th:href="'#collapse'+${passengerTrip.tripId}"
                           role="button"
                           aria-expanded="false"
                           th:aria-controls="'collapse'+${passengerTrip.tripId}">
                          View Details
                        </a>
                      </td>
                    </tr>
                    <tr class ="collapse" th:id="'collapse'+${passengerTrip.tripId}">

                      <td colspan="12">

                        <div class="row">
                          <div class="col-2"> Start Date</div>
                          <div th:text="${passengerTrip.startDate}"
                               class="col-6"></div>
                        </div>
                        <div class="row">
                          <div class="col-2"> Start Time</div>
                          <div th:text="${passengerTrip.startTime}"
                               class="col-6"></div>
                        </div>
                        <div class="row">
                          <div class="col-2"> End Date</div>
                          <div th:text="${passengerTrip.endDate}"
                               class="col-6"></div>
                        </div>
                        <div class="row">
                          <div class="col-2"> End Time</div>
                          <div th:text="${passengerTrip.endTime}"
                               class="col-6"></div>
                        </div>
                        <div class="row">
                          <div class="col-2"> Driver ID</div>
                          <div th:if="${passengerTrip.driverId ne 0}" th:text="${passengerTrip.driverId}"
                               class="col-6"></div>
                        </div>

                      </td>
                    </tr>
                  </div>




                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer th:replace="components/footer :: footer"></footer>
    </div>
    <script th:replace="components/toast :: toast"></script>
  </body>
</html>
